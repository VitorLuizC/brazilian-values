# Brazilian Values

[ðŸ‡ºðŸ‡¸ Switch to english version](./README.en.md)

[![Build Status](https://travis-ci.org/VitorLuizC/brazilian-values.svg?branch=master)](https://travis-ci.org/VitorLuizC/brazilian-values)
[![FOSSA Status](https://app.fossa.io/api/projects/git%2Bgithub.com%2FVitorLuizC%2Fbrazilian-values.svg?type=shield)](https://app.fossa.io/projects/git%2Bgithub.com%2FVitorLuizC%2Fbrazilian-values?ref=badge_shield)
[![LicenÃ§a](https://badgen.net/github/license/VitorLuizC/brazilian-values)](./LICENSE)
[![Tamanho da biblioteca minificada](https://badgen.net/bundlephobia/min/brazilian-values)](https://bundlephobia.com/result?p=brazilian-values)
[![Tamanho da biblioteca minificada + gzipada](https://badgen.net/bundlephobia/minzip/brazilian-values)](https://bundlephobia.com/result?p=brazilian-values)

Validar e formatar valores brasileiros como dinheiro (BRL), CPF, CNPJ, datas etc.

## InstalaÃ§Ã£o

Este mÃ³dulo estÃ¡ publicado no NPM, por isso vocÃª pode instalar usando qualquer gerenciador de pacotes Node.js.

```sh
npm install brazilian-values --save

# Use o comando abaixo para o Yarn.
yarn add brazilian-values
```

### InstalaÃ§Ã£o por CDN

Os pacotes desse mÃ³dulo tambÃ©m estÃ£o disponÃ­veis nas CDNs [JSDelivr](https://www.jsdelivr.com/) e [UNPKG](https://unpkg.com/).

> Em ambas vocÃª pode solicitar o pacote desejado ou usar o padrÃ£o, que Ã© o UMD.

```html
<!-- Usando o pacote padrÃ£o com o JSDelivr -->
<script src="https://cdn.jsdelivr.net/npm/brazilian-values"></script>

<!-- Usando o pacote padrÃ£o com o UNPKG -->
<script src="https://unpkg.com/brazilian-values"></script>

<script>
  /**
   * O pacote UMD expÃµe o brazilian-values com o objeto `BrazilianValues`.
   */
  BrazilianValues.formatToBRL(100);
  //=> 'R$ 100,00'
</script>
```

## Como usar

`brazilian-values` fornece funÃ§Ãµes para lidar com formataÃ§Ã£o, validaÃ§Ã£o e conversÃ£o de valores brasileiros. Todas essas funÃ§Ãµes podem ser importadas do pacote.

```js
import { isCNPJ, formatToCNPJ } from 'brazilian-values';

const value = '12727442000113'

if (!isCNPJ(value))
  throw new Error('CNPJ is not valid.');
const document = formatToCNPJ(value);
//=> '12.727.442/0001-13'
```

## API

<details>
  <summary>Formatadores</summary>

- [`formatToBRL`](#formatToBRL)
- [`formatToCapitalized`](#formatToCapitalized)
- [`formatToCEP`](#formatToCEP)
- [`formatToCNPJ`](#formatToCNPJ)
- [`formatToCAEPF`](#formatToCAEPF)
- [`formatToCPF`](#formatToCPF)
- [`formatToCPFOrCNPJ`](#formatToCPFOrCNPJ)
- [`formatToDate`](#formatToDate)
- [`formatToDateTime`](#formatToDateTime)
- [`formatToList`](#formatToList)
- [`formatToNumber`](#formatToNumber)
- [`formatToPhone`](#formatToPhone)
- [`formatToRG`](#formatToRG)
</details>

<details>
  <summary>Conversores</summary>

- [`parseToArray`](#parseToArray)
- [`parseToDate`](#parseToDate)
- [`parseToNumber`](#parseToNumber)
</details>

<details>
  <summary>Validadores</summary>

- [`isCEP`](#isCEP)
- [`isCNPJ`](#isCNPJ)
- [`isCAEPF`](#isCAEPF)
- [`isCPF`](#isCPF)
- [`isCPFOrCNPJ`](#isCPFOrCNPJ)
- [`isDate`](#isDate)
- [`isDDD`](#isDDD)
- [`isPhone`](#isPhone)
</details>

### FormataÃ§Ã£o

#### `formatToBRL`

Formata nÃºmeros ou `string` que contÃ©m nÃºmeros para a moeda brasileira (BRL).

```js
formatToBRL(1928.93)
//=> 'R$ 1.928,93'

formatToBRL('9211928.18203')
//=> 'R$ 9.211.928,18'

formatToBRL(-18.49)
//=> 'R$ -18,49'
```

#### `formatToCapitalized`

Capitaliza as palavras de um texto, com exceÃ§Ã£o das palavras configuradas para serem deixadas em caixa-alta ou em caixa-baixa.

> A primeira palavra do texto nÃ£o serÃ¡ caixa-baixa mesmo se configurada como.

```js
formatToCapitalized('SERVIDOR PÃšBLICO MUNICIPAL')
//=> 'Servidor PÃºblico Municipal'

formatToCapitalized('   os PrimEIROS  HOMens da tERra', {
  wordsToKeepLowerCase: ['os', 'da']
})
//=> 'Os Primeiros Homens da Terra'

formatToCapitalized('nova tv foi lanÃ§ada', {
  wordsToKeepUpperCase: ['tv']
})
//=> 'Nova TV Foi LanÃ§ada'

formatToCapitalized(' com espaÃ§os antes e depois ', {
  trimTrailingWhiteSpaces: false
})
//=> ' Com EspaÃ§os Antes e Depois '
```

#### `formatToCEP`

Formata uma `string` que contÃ©m nÃºmeros em CEP.

```js
formatToCEP('15998030')
//=> '15998-030'

formatToCEP('02999')
//=> '02999'
```

#### `formatToCNPJ`

Formata uma `string` que contÃ©m nÃºmeros em CNPJ.

```js
formatToCNPJ('128781')
//=> '12.878.1'

formatToCNPJ('32284981000138')
//=> '32.284.981/0001-38'

formatToCNPJ('00.0.000.00.00--00-00')
//=> '00.000.000/0000-00'
```

#### `formatToCAEPF`

Formata uma `string` que contÃ©m nÃºmeros em CAEPF.

```js
formatToCAEPF('128781')
//=> '128.781'

formatToCAEPF('32284981000150')
//=> '322.849.810/001-50'

formatToCAEPF('00.0.000.00.00--00-00')
//=> '000.000.000/000-00'
```

#### `formatToCPF`

Formata uma `string` que contÃ©m nÃºmeros em CPF.

```js
formatToCPF('00000000')
//=> '000.000.00'

formatToCPF('00000000000')
//=> '000.000.000-00'

formatToCPF('366.418.768-70')
//=> '366.418.768-70'
```

#### `formatToCPFOrCNPJ`

Formata uma `string` que contÃ©m nÃºmeros em CPF ou CNPJ dependendo da quantidade de caracteres.

```js
formatToCPFOrCNPJ('00000000')
//=> '000.000.00'

formatToCPFOrCNPJ('366.418.768-70')
//=> '366.418.768-70'

formatToCPFOrCNPJ('32284981000138')
//=> '32.284.981/0001-38'

formatToCPFOrCNPJ('00.0.000.00.00--00-00')
//=> '00.000.000/0000-00'
```


#### `formatToDate`

Formata uma instÃ¢ncia de `Date` para o estilo brasileiro, **`DD/MM/YYYY`**.

```js
formatToDate(new Date(2002, 7, 21))
//=> '21/08/2002'

formatToDate(new Date())
//=> '08/09/2018'
```

#### `formatToDateTime`

Formata uma instÃ¢ncia de `Date` para o data e horÃ¡rio no formato brasileiro, **`DD/MM/YYYY HH:mm`**.

```js
formatToDateTime(new Date(2002, 7, 21, 18, 30))
//=> '21/08/2002 18:30'
```

#### `formatToList`

Formata os valores de um `Array` de `string` no estilo brasileiro.

```js
formatToList(['Vitor', 'William', 'Fernando'])
//=> 'Vitor, William e Fernando'

formatToList([])
// => ''

formatToList(['1', '2'])
// => '1 e 2'

formatToList(['Direito Civil'])
//=> 'Direito Civil'
```

#### `formatToNumber`

Formata um nÃºmero para o estilo brasileiro.

```js
formatToNumber(0)
//=> '0'

formatToNumber(-1299)
//=> '-1.299'

formatToNumber(.981)
//=> '0,981'

formatToNumber('19898.1298')
//=> '19.898,1298'
```

#### `formatToPhone`

Formata uma `string` contendo nÃºmeros para o estilo do nÃºmero de telefone brasileiro.

```js
formatToPhone('11')
//=> '(11'

formatToPhone('11971626')
//=> '(11) 9716-26'

formatToPhone('11971626799')
//=> '(11) 9 7162-6799'
```

#### `formatToRG`

Formata uma `string` contendo nÃºmeros para RG.

> Hoje, `brazilian-values` suporta apenas os formatos de **SP** e **RJ**.<br/>
> Outros valores serÃ£o apenas "escapados" no `input`.

```js
formatToRG('00000000A', 'SP')
//=> '00.000.000-A'

formatToRG('00.00.0000-0', 'RJ')
//=> '00.000.000-0'

formatToRG('MG-14.808.688', 'MG')
//=> 'MG-14.808.688'
```

### Conversores

#### `parseToArray`

Converte uma lista no formato brasileiro para um `Array` de `string`.

```js
parseToArray('')
//=> []

parseToArray('1')
//=> ['1']

parseToArray('1 e 2')
//=> ['1', '2']

parseToArray('Fernanda, Luana e Ana Carolina')
//=> ['Fernanda', 'Luana', 'Ana Carolina']
```

#### `parseToDate`

Converte a data no formato brasileiro para uma instÃ¢ncia de `Date`.

> LanÃ§a um erro se o valor for invÃ¡lido ou nÃ£o corresponder a o formato de data brasileiro.

```js
parseToDate('28/03/1996')
//=> Date('1996-03-28T03:00:00.000Z')

parseToDate('28/03/1996 20:00')
//=> Date('1996-03-28T23:00:00.000Z')

parseToDate('28/03/1996 20:00:00')
//=> Date('1996-03-28T23:00:00.000Z')

parseToDate('31/02/2018')
//=> throws Error('Value "31/02/2018" is an invalid date.')
```

#### `parseToNumber`

Converte o nÃºmero no estilo brasileiro para um nÃºmero.

```js
parseToNumber('10')
//=> 10

parseToNumber('-1.299')
//=> -1299

parseToNumber('0,981')
//=> 0.981

parseToNumber('19.898,1298')
//=> 19898.1298
```

### Validadores

#### `isCEP`

Verifica se Ã© um CEP vÃ¡lido.

```js
isCEP('50.833-000')
//=> true

isCEP('02998-050')
//=> true

isCEP('00000000')
//=> true

isCEP('0')
//=> false

isCEP('1982891928981982198')
//=> false
```

#### `isCNPJ`

Verifica se Ã© um CNPJ vÃ¡lido.

> Relacionado: [`isCPFOrCNPJ`](#isCPFOrCNPJ).

```js
isCNPJ('41142260000189')
//=> true

isCNPJ('45.723.174/0001-10')
//=> true

isCNPJ('411407182')
//=> false

isCNPJ('11.111.111/1111-11')
//=> false
```

#### `isCAEPF`

Verifica se Ã© um CAEPF vÃ¡lido.

```js
isCAEPF('45723174000122')
//=> true

isCAEPF('457.231.740/001-22')
//=> false

isCAEPF('45.723.174/0001-22')
//=> false

isCAEPF('411407182')
//=> false

isCAEPF('111.111.111/111-11')
//=> false
```

#### `isCPF`

Verifica se Ã© um CPF vÃ¡lido.

> Relacionado: [`isCPFOrCNPJ`](#isCPFOrCNPJ).

```js
isCPF('366.418.768-70')
//=> true

isCPF('36641876870')
//=> true

isCPF('213.198.013-20')
//=> false

isCPF('2131201872781')
//=> false

isCPF('11111111111')
//=> false
```

#### `isCPFOrCNPJ`

Verifica se Ã© um CPF ou um CNPJ vÃ¡lido.

> Relacionado: [`isCPF`](#isCPF), [`isCNPJ`](#isCNPJ).

```js
isCPFOrCNPJ('366.418.768-70')
//=> true

isCPFOrCNPJ('36641876870')
//=> true

isCPFOrCNPJ('213.198.013-20')
//=> false

isCPFOrCNPJ('2131201872781')
//=> false

isCPFOrCNPJ('11111111111')
//=> false

isCPFOrCNPJ('41142260000189')
//=> true

isCPFOrCNPJ('45.723.174/0001-10')
//=> true

isCPFOrCNPJ('411407182')
//=> false

isCPFOrCNPJ('11.111.111/1111-11')
//=> false
```

#### `isDate`

Verifica se Ã© uma data vÃ¡lida e se corresponde ao formato brasileiro.

```js
isDate('03/08/2017')
//=> true

isDate('28/13/2017')
//=> false

isDate('03-08-2017')
//=> false

isDate('31/03/18')
//=> false
```

#### `isDDD`

Verifica se Ã© um cÃ³digo DDD (discagem direta Ã  distÃ¢ncia) brasileiro vÃ¡lido.

> Baseado na [resoluÃ§Ã£o nÂº 263, de 8 de junho de 2001](https://www.anatel.gov.br/legislacao/resolucoes/16-2001/383-resolucao-263).

```js
isDDD('81')
//=> true

isDDD('10')
//=> false

isDDD('555')
//=> false
```

#### `isPhone`

Verifica se estÃ¡ em um formato comum de nÃºmero de telefone brazileiro, opcionalmente com DDI, DDD e o nono dÃ­gito.
Se o DDD estiver definido ele serÃ¡ verificado com `isDDD`.

```js
isPhone('+55 (11) 9 8273-1182')
//=> true

isPhone('11 9 8273 1182')
//=> true

isPhone('1139723768')
//=> true

isPhone('(23) 3972-3768')
//=> false

isPhone('(13) 6 5093-2093')
//=> false

isPhone('(81) 555 178')
//=> false
```

## Contribuindo

### Docker

Caso queira rodar em um ambiente isolado(container) vocÃª pode usar o [docker](https://www.docker.com/).

Primeiro construa a imagem em sua maquina

```
docker build -t brazilian-values:latest .
```

ApÃ³s isso rode o ambiente em modo interativo
```
docker run -it -v ${PWD}:/usr/src/app brazilian-values:latest bash
```

VocÃª entrara em um container com o ambiente isolado da maquina. rode o yarn install e pode comeÃ§ar a usar todo o projeto`

```
yarn install
```

## LicenÃ§a

LanÃ§ado sob a licenÃ§a [MIT](./LICENSE).

[![FOSSA Status](https://app.fossa.io/api/projects/git%2Bgithub.com%2FVitorLuizC%2Fbrazilian-values.svg?type=large)](https://app.fossa.io/projects/git%2Bgithub.com%2FVitorLuizC%2Fbrazilian-values?ref=badge_large)
